<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Load in Bootstrap 5 CSS -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
        <!-- Link in "Darkly" theme: -->
        <link rel="stylesheet" href="../css/bootstrap.min.css">
        <link rel="stylesheet" href="../css/styles.css">
        <title>Onshape Exports Releases PoC</title>
    </head>

    <body>
        <!-- TOP NAVBAR -->
        <nav class="navbar navbar-dark navbar-expand-md bg-dark">
            <div class="row">
                <a class="navbar-brand w-50 text-white mr-auto" href="/">
                    <img id="custom-home-link"
                         src="../images/ptc-logo-white.png"/>
                </a>
            </div>
        </nav> 
    
        <!-- HERO -->
        <div class="container">
            <div class="jumbotron justify-content-center">
                <h1 class="row display-3">Onshape Exports Releases</h1>
                <div id="gltf-container">
                    <!-- Form to "feed" API call to trigger export workflow -->
                    <div id="elem-selector" class="mb-5">
                        <div class="form-group">
                            <label for="exportDestination">Select Export Destination</label>
                            <select name="exportDestination" 
                                    id="exportDestinationField"
                                    class="form-control"
                                    aria-describedby="exportDestinationHelp">
                                <option value="null">Choose One of the Following:</option>
                                <option value="googleDrive">Google Drive</option>
                            </select>
                            <small id="exportDestinationHelp" class="form-text text-muted">Please choose which system to export your release package to. Onshape Parts are sent in the glTF format, and Assemblies are sent as STEP files.</small>
                        </div>
                        <!-- Workflow Params Specific to Google Drive -->
                        <div id="googleDriveParams" class="mb-1 secondaryField">
                            <div class="form-group">
                                <label for="googleDriveEmailAddress">Email Address</label>
                                <input id="googleDriveEmailAddressId"
                                       type="text"
                                       name="googleDriveEmailAddress"
                                       placeholder=""
                                       class="form-control"
                                       aria-describedby="googleDriveEmailAddressHelp"/>
                                <small id="googleDriveEmailAddressHelp" class="form-text text-muted">Specify to which email address we will share our release package (.json) file.</small>
                            </div>
                            <div class="form-group">
                                <label for="googleDriveEmailMessage">Email Message</label>
                                <input id="googleDriveEmailMessageId"
                                       type="text"
                                       name="googleDriveEmailMessage"
                                       placeholder=""
                                       class="form-control"
                                       aria-describedby="googleDriveEmailMessageHelp"/>
                                <small id="googleDriveEmailMessageHelp" class="form-text text-muted">(Optional) include a note to share with your recipient in their email notification.</small>
                            </div>
                        </div>
                        <button id="exportFormSubmitButton"
                                type="submit"
                                class="btn btn-primary"
                                data-bs-toggle="modal"
                                data-bs-target="#successModal"
                        >
                            Submit
                        </button>
                    </div>
                    <div class="row">
                        <div id="liveSuccessAlertPlaceholder"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FORM LOGIC -->
        <script type="module" src="main.js"></script>
    </body> 
</html>
